# The Declarative GraphQL API Library

DryerJS, built on NestJS with Mongoose, is a robust tool for creating CRUD GraphQL APIs. It allows for declarative model declaration, supports model relations, and is easily customizable, thus enhancing API development and minimizing repetitive coding.

## Getting Started

To get started with DryerJS, follow these steps:

1. Prepare:

   ```bash
   # install @nestjs/cli and create a new project
   npm i -g @nestjs/cli && nest new my-project && cd my-project
   # install standard dependencies
   npm i @nestjs/graphql @nestjs/apollo class-transformer class-validator @nestjs/mongoose
   # remove unrelated files
   rm -rf src/app.controller.ts src/app.service.ts src/app.controller.spec.ts
   # install dataloader
   npm i dataloader
   ```

2. Install DryerJS:

   ```bash
   npm i dryerjs
   ```

3. Declare your first model on `src/user.ts`:

   ```typescript
   import { Definition, Property, Id, Skip } from 'dryerjs';

   @Definition()
   export class User {
     @Id()
     id: string;

     @Property()
     email: string;

     @Property({ update: Skip, output: Skip })
     password: string;

     @Property()
     name: string;
   }
   ```

4. Import your model and DryerJSModule in AppModule with other modules inside app.module.ts:

   ```typescript
   import { Module } from '@nestjs/common';
   import { GraphQLModule } from '@nestjs/graphql';
   import { ApolloDriver, ApolloDriverConfig } from '@nestjs/apollo';
   import { MongooseModule } from '@nestjs/mongoose';
   import { DryerModule } from 'dryerjs';

   import { User } from './user';

   @Module({
     imports: [
       GraphQLModule.forRoot<ApolloDriverConfig>({
         driver: ApolloDriver,
         autoSchemaFile: true,
         playground: true,
       }),
       MongooseModule.forRoot('mongodb://127.0.0.1:27017/test'),
       DryerModule.register({ definitions: [User] }),
     ],
   })
   export class AppModule {}
   ```

5. Start server

   ```bash
   npm run start:dev
   ```

6. Open browser and go to [http://localhost:3000/graphql](http://localhost:3000/graphql) to see the GraphQL playground.
